{% extends 'base.html.twig' %}

{% block title %}{{ evenement.titre }}{% endblock %}

{% block body %}
<h1>{{ evenement.titre }}</h1>

<p><strong>Description :</strong> {{ evenement.description }}</p>
<p><strong>Date de début :</strong> {{ evenement.dateDebut ? evenement.dateDebut|date('d/m/Y H:i') : 'Non défini' }}</p>
<p><strong>Date de fin :</strong> {{ evenement.dateFin ? evenement.dateFin|date('d/m/Y H:i') : 'Non défini' }}</p>
<p><strong>Capacité :</strong> {{ evenement.capacite }}</p>
<p><strong>Catégorie :</strong> {{ evenement.categorie ? evenement.categorie.nom : 'Aucune' }}</p>
<p><strong>Lieu :</strong> {{ evenement.lieu ? evenement.lieu.nom : 'Aucun' }}</p>
<p><strong>Public :</strong> {{ evenement.estPublic ? 'Oui' : 'Non' }}</p>
<p><strong>Créé le :</strong> {{ evenement.dateCreation ? evenement.dateCreation|date('d/m/Y H:i') : 'Non défini' }}</p>

<a href="{{ path('evenement_index') }}" class="btn btn-secondary">Retour à la liste</a>

{% if is_granted('EVENEMENT_EDIT', evenement) %}
    <a href="{{ path('evenement_edit', {'id': evenement.id}) }}" class="btn btn-warning">Modifier</a>
{% endif %}

{% if is_granted('EVENEMENT_DELETE', evenement) %}
    <form method="post" action="{{ path('evenement_delete', {'id': evenement.id}) }}" style="display:inline;" onsubmit="return confirm('Confirmer la suppression ?');">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ evenement.id) }}">
        <button class="btn btn-danger">Supprimer</button>
    </form>
{% endif %}
{% endblock %}
